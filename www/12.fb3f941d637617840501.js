(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{Yj9t:function(i,n,t){"use strict";t.r(n),t.d(n,"AuthPageModule",function(){return g});var e=t("ofXK"),o=t("3Pt+"),s=t("TEn/"),a=t("tyNb"),b=t("fXoL"),r=t("qXBG");function l(i,n){1&i&&(b.Mb(0,"ion-item",12),b.Mb(1,"ion-label"),b.jc(2,"Should be a valid email address."),b.Lb(),b.Lb())}function c(i,n){1&i&&(b.Mb(0,"ion-item",12),b.Mb(1,"ion-label"),b.jc(2,"Password is invalid"),b.Lb(),b.Lb())}const d=[{path:"",component:(()=>{class i{constructor(i,n,t,e){this.authService=i,this.router=n,this.loadingCtrl=t,this.alertCtrl=e,this.isLoading=!1,this.isLogin=!0}ngOnInit(){}authenticate(i,n){this.isLoading=!0,this.loadingCtrl.create({keyboardClose:!0,message:"Logging in..."}).then(t=>{let e;t.present(),e=this.isLogin?this.authService.login(i,n):this.authService.signup(i,n),e.subscribe(i=>{console.log(i),this.isLoading=!1,t.dismiss(),this.router.navigateByUrl("/places/tabs/discover")},i=>{t.dismiss();const n=i.error.error.message;let e="Could not sign you up, please try again";"EMAIL_EXISTS"===n?e="This email address already exists!":"EMAIL_NOT_FOUND"===n?e="E-mail address could not be found":"INVALID_PASSWORD"===n&&(e="This password is not correct."),this.showAlert(e)})})}onSwitchAuthMode(){this.isLogin=!this.isLogin}onSubmit(i){i.valid&&(this.authenticate(i.value.email,i.value.password),i.reset())}showAlert(i){this.alertCtrl.create({header:"Authentication failed",message:i,buttons:["Okay"]}).then(i=>{i.present()})}}return i.\u0275fac=function(n){return new(n||i)(b.Jb(r.a),b.Jb(a.g),b.Jb(s.W),b.Jb(s.b))},i.\u0275cmp=b.Db({type:i,selectors:[["app-auth"]],decls:29,vars:7,consts:[[1,"ion-padding"],[3,"ngSubmit"],["f","ngForm"],["size-sm","6","offset-sm","3"],["position","floating"],["type","email","ngModel","","name","email","required","","email",""],["emailCtrl","ngModel"],["lines","none",4,"ngIf"],["type","password","ngModel","","name","password","required","","minlength","6",3,"value"],["passwordCtrl","ngModel"],["type","button","color","primary","fill","clear","expand","block",3,"click"],["type","submit","color","primary","expand","block",3,"disabled"],["lines","none"]],template:function(i,n){if(1&i){const i=b.Nb();b.Mb(0,"ion-header"),b.Mb(1,"ion-toolbar"),b.Mb(2,"ion-title"),b.jc(3),b.Lb(),b.Lb(),b.Lb(),b.Mb(4,"ion-content",0),b.Mb(5,"form",1,2),b.Ub("ngSubmit",function(){b.fc(i);const t=b.ec(6);return n.onSubmit(t)}),b.Mb(7,"ion-grid"),b.Mb(8,"ion-row"),b.Mb(9,"ion-col",3),b.Mb(10,"ion-list"),b.Mb(11,"ion-item"),b.Mb(12,"ion-label",4),b.jc(13,"E-mail"),b.Lb(),b.Kb(14,"ion-input",5,6),b.Lb(),b.ic(16,l,3,0,"ion-item",7),b.Mb(17,"ion-item"),b.Mb(18,"ion-label",4),b.jc(19,"Password"),b.Lb(),b.Kb(20,"ion-input",8,9),b.Lb(),b.ic(22,c,3,0,"ion-item",7),b.Lb(),b.Lb(),b.Lb(),b.Mb(23,"ion-row"),b.Mb(24,"ion-col",3),b.Mb(25,"ion-button",10),b.Ub("click",function(){return n.onSwitchAuthMode()}),b.jc(26),b.Lb(),b.Mb(27,"ion-button",11),b.jc(28),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb()}if(2&i){const i=b.ec(6),t=b.ec(15),e=b.ec(21);b.zb(3),b.kc(n.isLogin?"Login":"Signup"),b.zb(13),b.bc("ngIf",!t.valid&&t.touched),b.zb(4),b.bc("value","fdsfdsdf"),b.zb(2),b.bc("ngIf",!e.valid&&e.touched),b.zb(4),b.lc(" Switch to ",n.isLogin?"Signup":"Login"," "),b.zb(1),b.bc("disabled",!i.valid),b.zb(1),b.lc(" ",n.isLogin?"Login":"Signup"," ")}},directives:[s.r,s.S,s.R,s.o,o.q,o.k,o.l,s.q,s.F,s.n,s.A,s.v,s.z,s.u,s.eb,o.j,o.m,o.o,o.a,e.k,o.g,s.g],styles:[""]}),i})()}];let u=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=b.Hb({type:i}),i.\u0275inj=b.Gb({imports:[[a.i.forChild(d)],a.i]}),i})(),g=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=b.Hb({type:i}),i.\u0275inj=b.Gb({imports:[[e.b,o.f,s.U,u]]}),i})()}}]);